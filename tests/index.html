<!DOCTYPE html>
<html>
<link rel="stylesheet" href="style.css?v=1.0">
<script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>

<link href="https://fonts.googleapis.com/css2?family=Notable&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Righteous&display=swap" rel="stylesheet">
<script src="https://use.fontawesome.com/164223e5ef.js"></script>

<script>
    document.addEventListener("DOMContentLoaded", function() {
      
        var video = document.getElementById("video")
        var canvas = document.getElementById("canvas")
        var buffer = document.getElementById("buffer")

        var ctx = canvas.getContext("2d")
        var bufferCtx = buffer.getContext("2d")


        video.addEventListener("play", function() {
            var dimensions = {
                width: video.videoWidth,
                outputHeight: video.videoHeight,
                videoHeight: video.videoHeight
            };
            canvas.width = dimensions.width;
            canvas.height = dimensions.outputHeight;
            buffer.width = dimensions.width;
            buffer.height = dimensions.videoHeight;
            updateCanvas(ctx, bufferCtx, dimensions, this)
        })

    })

    function updateCanvas(ctx, bufferCtx, dimensions, video) {
        bufferCtx.drawImage(video, 0, 0)
     
        var frame = bufferCtx.getImageData(0, 0, dimensions.width, dimensions.outputHeight)
        var alpha = bufferCtx.getImageData(0, dimensions.outputHeight, dimensions.width, dimensions.outputHeight)

        ctx.putImageData(frame, 0, 0, 0, 0, dimensions.width, dimensions.outputHeight)
        setTimeout(updateCanvas, 15, ctx, bufferCtx, dimensions, video)        

    }
</script>

<body>
  
  <h1>Zizi - a virtual show <gr>| July prototype</gr></h1>
  
  

 <!-- 1. The <iframe> (and video player) will replace this <div> tag. -->
 <div id="player" style="display: none"></div>
 <!-- <iframe id="player" type="text/html" width="640" height="390" src="http://www.youtube.com/embed/dlEAM2EQci4?enablejsapi=1&playsinline=1&autoplay=1&origin=https://zizi.ai" frameborder="0" style="display: none"></iframe> -->
 <!-- <iframe id="player" style="display: none" frameborder="0" allowfullscreen="1" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" title="YouTube video player" width="640" height="390" src="https://www.youtube.com/embed/dlEAM2EQci4?enablejsapi=1&playsinline=1&autoplay=1&amp;widgetid=1"></iframe> -->
 <!-- need origin? -->
 
 <!-- The Play-Link will appear in that div after the video was loaded -->
 <div id="play"></div>
 

<span class="sr-only">Loading...</span>

 <div><span id="time"></span></div>

 <script src="youtube.js"></script>

 <!-- swich between -close- and -full- -->
  <i class="fa fa-search-minus fa-2x"></i>&nbsp;
  <i class="fa fa-search-plus fa-2x"></i><br><br>
  
  <!-- swich between -zizi and -pose -->
  <i class="fa fa-eye fa-2x"></i>&nbsp;
  <i class="fa fa-eye-slash fa-2x"></i>

  
  <p><a href="#" id="videolink1">Full</a>  |  <a href="#" id="videolink2"> Skeleton</a></p>
  <p><a href="#" id="videolink3">Close Up</a>  |  <a href="#" id="videolink4"> Skeleton</a></p>
  
  <!-- Will all change (i.e): </p>
  Select Act [+] </p>
  Next performer [<] [>] </p>
  Zoom [-] [+] </p>
  Realism/Training parameters [<] [>] </p>
  View performer profiles [+]</p>
  etc...</p> -->
  

<!-- trigger autoplay -->

  

    <canvas id="buffer" width="100" height="100"></canvas>
    <canvas id="canvas" width="100" height="100"></canvas>
    
    <video id="video" autoplay loop playsinline muted >
        <source id="source_video" src="vids/me-full-zizi.mp4" type="video/mp4">
    </video>


    <script>
    
    var videocontainer = document.getElementById('video');
    var videosource = document.getElementById('source_video');
    var videobutton = document.getElementById("videolink1");
    var videobutton2 = document.getElementById("videolink2");
    var videobutton3 = document.getElementById("videolink3");
    var videobutton4 = document.getElementById("videolink4");
    
    videobutton.addEventListener("click", function(event) {
        videosource.setAttribute('src', 'https://s3-eu-west-1.amazonaws.com/zizi.ai/development/me-full-zizi.mp4');
        videocontainer.load();
    }, false);
    videobutton2.addEventListener("click", function(event) {
        videosource.setAttribute('src', 'https://s3-eu-west-1.amazonaws.com/zizi.ai/development/me-full-pose.mp4');
        videocontainer.load();
    }, false);
    videobutton3.addEventListener("click", function(event) {
        videosource.setAttribute('src', 'https://s3-eu-west-1.amazonaws.com/zizi.ai/development/me-close-zizi.mp4');
        videocontainer.load();
    }, false);
    videobutton4.addEventListener("click", function(event) {
        videosource.setAttribute('src', 'https://s3-eu-west-1.amazonaws.com/zizi.ai/development/me-close-pose.mp4');
        videocontainer.load();
    }, false);
    
    </script>
  
  
  
  
    
    <img src="curtainAlpha.png">

</body>

</html>
